(self.webpackChunk=self.webpackChunk||[]).push([[242],{391:(e,t,n)=>{"use strict";n.d(t,{s:()=>K,P_:()=>z,z6:()=>X,$W:()=>W,sb:()=>Y,rg:()=>V,HO:()=>G,Je:()=>Q});const o=n.p+"./img/Star-1.3f5cbf371d52a121cf770ca1f6a01131.svg",i=n.p+"./img/Star-2.5eecde7db20b645bd91200a6a523c4af.svg",a=n.p+"./img/Group.ec7b4ad64f31cee14f3aeeaaccb86392.svg",s=n.p+"./img/no-image-icon-hi.278f1a6a8b3a4c0e150ecf337cadb460.png",l=n.p+"./img/a-icon-comment.3b856908d9d8b547f7b5bbb295fa10d9.svg";class r{constructor(e,t,n,o,i,a,s,r){this.numberOfFilm=e,this.filmId=r,this.backdrop=t,this.releaseDate=n,this.readingTime=o,this.starRating=i,this.genre=a,this.linkToFilmPage=s,this.iconOfComments=l}addEventListenerToReadMoreButton(e){e.addEventListener("click",(()=>{document.location=this.linkToFilmPage}))}}const c=n.p+"./img/a-icon-playmini.eafed11a9a15c0723a9968ec4513668c.svg",d=n.p+"./img/a-icon-play.d119cd2fe825a7d4f418410942c5f288.svg";class m extends r{constructor(e,t,n,o,i,a,s,l,r){super(e,n,o,i,a,s,l,r),this.videoKey=t,this.iconOfPlaymini=c,this.iconOfPlay=d}addEventListenerToIcon(e){e.addEventListener("click",(()=>{console.log(`Click to video: ${this.videoKey}`)}))}}const u=n.p+"./img/audio.5f39a9568798ec1f28ca31f2bdae9ef6.ogg",g=n.p+"./img/a-icon-melody.bf442974dda2856816102108437e463e.svg";class p extends r{constructor(e,t,n,o,i,a,s,l){super(e,t,n,o,i,a,s,l),this.defaultAudioFile=u,this.iconOfMelody=g}addEventListenerToPlayIcon(e){e.addEventListener("play",(()=>{console.log("Click to audio player. Audio file is hidden)")}))}}var f=n(638);function b(e,t,n,o,i,a){for(let l=0;l<t;l++){let t=l+n,r=z(o,t),c=G(o,t),d=W(o,t),m=Q(o,t),u=X(o,t,i),g=o.movieCollection.results[t].id,b=new p(t,r,c,d,m,u,`https://www.themoviedb.org/movie/${g}`,o.movieCollection.results[t].id);x(a,t,u,r,"audio",g),i||M(a),s(e,o.movieCollection.results,b);const v=document.getElementById(`readMoreButton${b.filmId}`);b.addEventListenerToReadMoreButton(v);const h=document.querySelector(`#audioPlayer${b.filmId}`);b.addEventListenerToPlayIcon(h);const $={backgroundColor:"dark",callFromButton:!0};f(`#deletePostButton_${b.filmId}`).on("click",(()=>{f(this).showPopup($,b.filmId)}))}function s(e,t,n){e.insertAdjacentHTML("beforeend",`\n            <div class="blog-section_blog-post_audio">\n                <div class="img-wrapper">\n                    <img src="https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${t[n.numberOfFilm].poster_path}" alt="image of poster">\n                </div>\n                <div class="blog-post-main-content">\n                    <div class="blog-post-main-content_header">\n                        <img src="${n.backdrop}" alt="image of backdrop">\n                        <div>\n                            <span class="blog-post-main-content_user-name">${n.genre.join(", ")}\n                            </span>\n                            <p class="card-text">\n                                <small class="text-muted">\n                                    <span>${n.releaseDate}</span>\n                                    <span class="point">&#8226;</span>\n                                    <span>${n.readingTime} min read</span>\n                                    <span class="point">&#8226;</span>\n                                    <img src="${n.iconOfComments}" alt="image of comments">\n                                    <span>${t[n.numberOfFilm].vote_count}</span>\n                                    <img src="${n.starRating[0]}" alt="image of star">\n                                    <img src="${n.starRating[1]}" alt="image of star">\n                                    <img src="${n.starRating[2]}" alt="image of star">\n                                    <img src="${n.starRating[3]}" alt="image of star">\n                                    <img src="${n.starRating[4]}" alt="image of star">\n                                </small>\n                            </p>\n                        </div>\n                    </div>\n                    <p class="blog-post-main-content_title"> ${t[n.numberOfFilm].title} </p>\n                    <audio controls id = 'audioPlayer${n.filmId}'> \n                        <source src="${n.defaultAudioFile}" type="audio/ogg">\n                         Your browser does not support the <code>audio</code> element.\n                    </audio>\n                    <p class="blog-post-main-content_text"> ${t[n.numberOfFilm].overview}</p>\n                    <div class="button-wrapper">\n                        <button id="readMoreButton${n.filmId}" \n                            class="btn blog-post-main-content_read-more-button">\n                             Read more\n                        </button>\n                        <button id="deletePostButton_${n.filmId}" \n                            class="btn blog-post-main-content_delete-button">\n                            Delete\n                        </button>\n                    </div>\n                    <div class="blog-post_corner-icon">\n                        <img class="blog-post-main-content_content-icon" \n                                  src="${n.iconOfMelody}" alt="image of melody">\n                    </div>\n                </div>\n            </div>\n        `)}}const v=document.querySelector("#inputForAuthor"),h=document.querySelector("#inputForTitle"),$=document.getElementById("dropdownForAuthors"),w=document.getElementById("dropdownForTitles"),y=document.querySelector(".blog-section_input-wrapper-author"),_=document.querySelector(".blog-section_input-wrapper-title"),k=document.createElement("div");function I(e){let t=localStorage.getItem(e);return t?JSON.parse(t)[e]:""}function T(e){e.classList.toggle("show")}function C(e){e.classList.remove("show")}function O(e){e.classList.add("show")}function P(e,t,n,o,i){if(t.innerHTML="",o)for(let e of i)Y.genreCollection.genres.forEach((n=>{n.name===e&&t.insertAdjacentHTML("beforeend",`\n                        <li tabIndex="-1" id='${n.id}'>${e}</li>\n                    `)}));else{0===Object.keys(e).length&&t.insertAdjacentHTML("beforeend","\n                <li>No such movie</li>\n            ");for(let n in e)e.hasOwnProperty(n)&&t.insertAdjacentHTML("beforeend",`\n                    <li tabIndex="-1" id='${n}'>${e[n]}</li>\n                `)}}function L(e,t,n,o,i,a){if("LI"===e.target.tagName){localStorage.removeItem(n),o.value="";let s={[t]:e.target.innerText,id:e.target.id},l=JSON.stringify(s);localStorage.setItem(t,l),i.value=e.target.innerText,T(a),function(e,t){let n=E(Y,e,t);R(),F(n,!1)}(e.target.innerText,e.target.id)}}function E(e,t,n){let o=S(e),i=[];return o.movieCollection.results.find((e=>{if(e.title===t)return o.movieCollection.results=[e],!0;e.genre_ids.includes(Number(n))&&(i.push(e),o.movieCollection.results=i)})),o}function S(e){let t;switch(typeof e){case"object":if(null===e)t=null;else switch(toString.call(e)){case"[object Array]":t=e.map(S);break;case"[object Date]":t=new Date(e);break;case"[object RegExp]":t=new RegExp(e);break;default:t=Object.keys(e).reduce((function(t,n){return t[n]=S(e[n]),t}),{})}break;default:t=e}return t}function B(e,t,n){""===e.value&&(v.disabled=!1,localStorage.removeItem(t),C(n),R())}function F(e,t){k.id="searchSelectedPost",K.after(k),K.style.display="none";let n=e.movieCollection.results.length;b(k,n,0,e,t,V)}function R(){K.style.display="block",k.innerHTML=""}function x(e,t,n,o,i,a){e[t]={genre:n,backdrop:o,postType:i,filmTitle:a}}function M(e){let t=new Set;for(let n in e)e.hasOwnProperty(n)&&e[n].genre.forEach((e=>{t.add(e)}));P(null,$,0,!0,t)}v.value=I("author"),h.value=I("title"),h.addEventListener("keyup",(()=>{h.value&&async function(e){if(e){let t=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=0f3abe6c40314201d6cfc0d3278edea8&language=en-US&query=${e}&page=1&include_adult=false`);if(t.ok)return await t.json();console.log("Ошибка HTTP: "+t.status)}}(h.value).then((e=>{!function(e){let t=new Set;e.results.forEach((e=>{t[e.id]=e.title})),P(t,w)}(e),Y.movieCollection=e})),v.disabled=!0,O(w)})),h.addEventListener("change",(()=>{B(h,"title",w)})),h.addEventListener("click",(()=>{T(w),C($)})),_.addEventListener("focusout",(e=>{w.contains(e.relatedTarget)||C(w)})),w.addEventListener("click",(e=>{L(e,"title","author",v,h,w),v.disabled=!0})),v.addEventListener("click",(()=>{T($),C(w)})),v.addEventListener("keyup",(()=>{!function(e,t,n,o){let i=e.value.toUpperCase(),a=document.querySelector(".noAuthor"),s=0;const l=n.getElementsByTagName("li");a&&a.remove();for(let e=0;e<l.length;e++)l[e].textContent.toUpperCase().indexOf(i)>-1?l[e].style.display="":(s++,l[e].style.display="none");s>=l.length&&n.insertAdjacentHTML("beforeend",'\n             <li class="noAuthor">No such genre</li>\n        '),O(n)}(v,0,$)})),v.addEventListener("change",(()=>{B(v,"author",$)})),y.addEventListener("focusout",(e=>{$.contains(e.relatedTarget)||C($)})),$.addEventListener("click",(e=>{L(e,"author","title",h,v,$)}));var j=n(638);const H=n.p+"./img/a-icon-picture.b2c508cfb252cd40067d59f6eeac566c.svg";class A extends r{constructor(e,t,n,o,i,a,s,l){super(e,t,n,o,i,a,s,l),this.iconOfPicture=H}}var D=n(638);const q=n.p+"./img/a-icon-text.a8f62118ac02dc3f04399bc2bf10df50.svg";class N extends r{constructor(e,t,n,o,i,a,s,l){super(e,t,n,o,i,a,s,l),this.iconOfText=q}}var J=n(638),U=n(638);const K=document.querySelector("#blogPost");let Y={};(async function(){let e=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=0f3abe6c40314201d6cfc0d3278edea8");if(e.ok)return await e.json();console.log("Ошибка HTTP: "+e.status)})().then((e=>(Y={movieCollection:e},async function(e){let t=await fetch("http://api.themoviedb.org/3/genre/movie/list?api_key=0f3abe6c40314201d6cfc0d3278edea8");if(t.ok)return e.genreCollection=await t.json(),e;console.log("Ошибка HTTP: "+t.status)}(Y)))).then((e=>{!function(e,t){if(null!==localStorage.getItem("author")&&void 0!==localStorage.getItem("author")&&""!==localStorage.getItem("author")||null!==localStorage.getItem("title")&&void 0!==localStorage.getItem("title")&&""!==localStorage.getItem("title")){let t=localStorage.getItem("title"),o=localStorage.getItem("author");if(t)v.disabled=!0,async function(e){let t=await fetch(`https://api.themoviedb.org/3/movie/\n        ${e}?api_key=0f3abe6c40314201d6cfc0d3278edea8&language=en-US`);if(t.ok)return await t.json();console.log("Ошибка HTTP: "+t.status)}(JSON.parse(t).id).then((t=>{let n=S(e);n.movieCollection.results=[t],F(n,!0)})).then((()=>{n()}));else if(o){let t=JSON.parse(o);F(E(e,t.author,t.id),!1),n()}}else n();function n(){!function(e,t,n,o,i){async function a(e){let t=await fetch(`https://api.themoviedb.org/3/movie/\n          ${n.movieCollection.results[e].id}/videos?api_key=0f3abe6c40314201d6cfc0d3278edea8`);if(t.ok)return await t.json();console.log("Ошибка HTTP: "+t.status)}for(let t=0;t<5;t++)a(t).then((o=>{let a=o.results[0].key,l=z(n,t),r=G(n,t),c=W(n,t),d=Q(n,t),u=X(n,t,false),g=n.movieCollection.results[t].id,p=new m(t,a,l,r,c,d,u,`https://www.themoviedb.org/movie/${g}`,n.movieCollection.results[t].id);x(i,t,u,l,"video",g),M(i),s(e,n.movieCollection.results,p);const f=document.getElementById(`readMoreButton${p.filmId}`);p.addEventListenerToReadMoreButton(f);const b=document.querySelector(`#rootForChangeVideoPost${p.filmId}`),v=document.querySelector(`#iconOfPlay${p.filmId}`);v.addEventListener("click",(()=>{b.innerHTML=`     \n                       <div class="video-wrapper">\n                           <div class="icon-play-wrapper">\n                                   <iframe width="560" height="379"\n                                      src="https://www.youtube.com/embed/${p.videoKey}"\n                                      title="YouTube video player" frameBorder="0" allow="accelerometer; autoplay;\n                                      clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen>\n                                    </iframe>\n                             </div>\n                         </div>`})),p.addEventListenerToIcon(v);const h={backgroundColor:"dark",callFromButton:!0};j(`#deletePostButton_${p.filmId}`).on("click",(()=>{j(this).showPopup(h,p.filmId)}))}));function s(e,t,n){e.insertAdjacentHTML("beforeend",`\n           <div class="blog-section_blog-post_video">\n                 <div id="rootForChangeVideoPost${n.filmId}">\n                    <div class="img-wrapper">\n                        <img src="https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${t[n.numberOfFilm].poster_path}" alt="image of poster">\n                        <img id="iconOfPlay${n.filmId}" class="icon-play" src="${n.iconOfPlay}" \n                        alt="icon of play">            \n                    </div>\n                 </div>\n                 <div class="blog-post-main-content">\n                    <div class="blog-post-main-content_header">\n                        <img src="${n.backdrop}" alt="image of user">\n                        <div>\n                            <span class="blog-post-main-content_user-name">${n.genre.join(", ")}\n                            </span>\n                            <p class="card-text">\n                                <small class="text-muted">\n                                    <span>${n.releaseDate}</span>\n                                    <span class="point">&#8226;</span>\n                                    <span>${n.readingTime} min read</span>\n                                    <span class="point">&#8226;</span>\n                                    <img src="${n.iconOfComments}" alt="image of comments">\n                                    <span>${t[n.numberOfFilm].vote_count}</span>\n                                    <img src="${n.starRating[0]}" alt="image of star">\n                                    <img src="${n.starRating[1]}" alt="image of star">\n                                    <img src="${n.starRating[2]}" alt="image of star">\n                                    <img src="${n.starRating[3]}" alt="image of star">\n                                    <img src="${n.starRating[4]}" alt="image of star">\n                                </small>\n                            </p>\n                        </div>\n                    </div>\n                    <p class="blog-post-main-content_title"> ${t[n.numberOfFilm].title} </p>\n                    <p class="blog-post-main-content_text"> ${t[n.numberOfFilm].overview}</p>\n                    <div class="button-wrapper">\n                        <button id="readMoreButton${n.filmId}" \n                            class="btn blog-post-main-content_read-more-button">\n                             Read more\n                        </button>\n                        <button id="deletePostButton_${n.filmId}" \n                            class="btn blog-post-main-content_delete-button">\n                            Delete\n                        </button>\n                    </div>\n                    <div class="blog-post_corner-icon">\n                        <img class="blog-post-main-content_content-icon" src="${n.iconOfPlaymini}" \n                             alt="image of play">\n                    </div>      \n                 </div>        \n           </div>    \n        `)}}(t,0,e,0,V),b(t,5,5,e,!1,V),function(e,t,n,o,i,a,s){for(let t=0;t<5;t++){let n=t+5+5,o=z(i,n),a=G(i,n),r=W(i,n),c=Q(i,n),d=X(i,n,false),m=i.movieCollection.results[n].id,u=new A(n,o,a,r,c,d,`https://www.themoviedb.org/movie/${m}`,i.movieCollection.results[n].id);x(s,n,d,o,"photo",m),M(s),l(e,i.movieCollection.results,u);const g=document.getElementById(`readMoreButton${u.filmId}`);u.addEventListenerToReadMoreButton(g);const p={backgroundColor:"dark",callFromButton:!0};D(`#deletePostButton_${u.filmId}`).on("click",(()=>{D(this).showPopup(p,u.filmId)}))}function l(e,t,n){e.insertAdjacentHTML("beforeend",`\n            <div class="blog-section_blog-post_foto">\n                <div class="img-wrapper">\n                    <img src="https://www.themoviedb.org/t/p/w600_and_h900_bestv2/${t[n.numberOfFilm].poster_path}" alt="image of table">\n                </div>\n                <div class="blog-post-main-content">\n                    <div class="blog-post-main-content_header">\n                        <img src="${n.backdrop}" alt="image of backdrop">\n                        <div>\n                            <span class="blog-post-main-content_user-name">${n.genre.join(", ")}\n                            </span>\n                            <p class="card-text">\n                                <small class="text-muted">\n                                    <span>${n.releaseDate}</span>\n                                    <span class="point">&#8226;</span>\n                                    <span>${n.readingTime} min read</span>        \n                                    <span class="point">&#8226;</span>        \n                                    <img src="${n.iconOfComments}" alt="image of comments">\n                                    <span>${n.vote_count}</span>\n                                    <img src="${n.starRating[0]}" alt="image of star">\n                                    <img src="${n.starRating[1]}" alt="image of star">\n                                    <img src="${n.starRating[2]}" alt="image of star">\n                                    <img src="${n.starRating[3]}" alt="image of star">\n                                    <img src="${n.starRating[4]}" alt="image of star">                \n                                </small>\n                            </p>\n                        </div>\n                    </div>\n                    <p class="blog-post-main-content_title"> ${t[n.numberOfFilm].title} </p>\n                    <p class="blog-post-main-content_text"> ${t[n.numberOfFilm].overview}</p>\n                    <div class="button-wrapper">\n                        <button id="readMoreButton${n.filmId}" \n                            class="btn blog-post-main-content_read-more-button">\n                             Read more\n                        </button>\n                        <button id="deletePostButton_${n.filmId}" \n                            class="btn blog-post-main-content_delete-button">\n                            Delete\n                        </button>\n                    </div>\n                    <div class="blog-post_corner-icon">\n                        <img class="blog-post-main-content_content-icon" src="${n.iconOfPicture}" \n                            alt="image of melody">\n                    </div>\n                </div>\n            </div>\n        `)}}(t,0,0,0,e,0,V),function(e,t,n,o,i,a,s,l){for(let t=0;t<5;t++){let n=t+5+5+5,o=z(a,n),i=G(a,n),s=W(a,n),c=Q(a,n),d=X(a,n,false),m=a.movieCollection.results[n].id,u=new N(n,o,i,s,c,d,`https://www.themoviedb.org/movie/${m}`,a.movieCollection.results[n].id);x(l,n,d,o,"text",m),M(l),r(e,a.movieCollection.results,u);const g=document.getElementById(`readMoreButton${u.filmId}`);u.addEventListenerToReadMoreButton(g);const p={backgroundColor:"dark",callFromButton:!0};J(`#deletePostButton_${u.filmId}`).on("click",(()=>{J(this).showPopup(p,u.filmId)}))}function r(e,t,n){e.insertAdjacentHTML("beforeend",` \n            <div class="blog-section_blog-post_text">\n                <div class="blog-post-main-content">\n                    <div class="blog-post-main-content_header">\n                        <img src="${n.backdrop}" alt="image of backdrop">\n                        <div>\n                            <span class="blog-post-main-content_user-name">${n.genre.join(", ")}\n                            </span>\n                            <p class="card-text">\n                                <small class="text-muted">\n                                    <span>${n.releaseDate}</span>\n                                    <span class="point">&#8226;</span>\n                                    <span>${n.readingTime} min read</span>\n                                    <span class="point">&#8226;</span>\n                                    <img src="${n.iconOfComments}" alt="image of comments">\n                                    <span>${t[n.numberOfFilm].vote_count}</span>\n                                    <img src="${n.starRating[0]}" alt="image of star">\n                                    <img src="${n.starRating[1]}" alt="image of star">\n                                    <img src="${n.starRating[2]}" alt="image of star">\n                                    <img src="${n.starRating[3]}" alt="image of star">\n                                    <img src="${n.starRating[4]}" alt="image of star">\n                                </small>\n                            </p>\n                        </div>\n                    </div>\n                    <p class="blog-post-main-content_title"> ${t[n.numberOfFilm].title}</p>\n                    <p class="blog-post-main-content_text"> ${t[n.numberOfFilm].overview}</p>\n                    <div class="button-wrapper">\n                        <button id="readMoreButton${n.filmId}" \n                            class="btn blog-post-main-content_read-more-button">\n                             Read more\n                        </button>\n                        <button id="deletePostButton_${n.filmId}" \n                            class="btn blog-post-main-content_delete-button">\n                            Delete\n                        </button>\n                    </div>\n                    <div class="blog-post_corner-icon">\n                        <img class="blog-post-main-content_content-icon" src="${n.iconOfText}" \n                                alt="image of melody">\n                    </div>\n                </div>\n            </div>\n        `)}}(t,0,0,0,0,e,0,V)}}(e,K)}));const V={};function z(e,t){const n=e.movieCollection.results[t].backdrop_path;return null===n?s:"https://www.themoviedb.org/t/p/original"+n}function G(e,t){let n=e.movieCollection.results[t].release_date;if(n){n=new Date(n);let e=new Intl.DateTimeFormat("en-US",{month:"short"}).format(n);return`${n.getDate()} ${e}, ${n.getFullYear()}`}return"unknown"}function W(e,t){const n=e.movieCollection.results[t].overview.trim().split(/\s+/).length;return Math.ceil(n/256)}function Q(e,t){const n=Math.round(e.movieCollection.results[t].vote_average);let s=[0,1,2,3,4,5,6,7,8,9],l=[];for(let e=0;e<n;e++)s[e]=!0;for(let e=0;e<s.length;e++)s[e]===s[e+1]&&(e+=1,l.push(o));n%2!=0&&l.push(a);let r=l.length;for(let e=0;e<=5-r;e++)l.push(i);return l}function X(e,t,n){const o=[];if(n)return e.movieCollection.results[t].genres.map((e=>{o.push(e.name)})),o;{const n=e.movieCollection.results[t].genre_ids;return e.genreCollection.genres.map((e=>{n.forEach((t=>{e.id===t&&o.push(e.name)}))})),o}}setTimeout(U("document").showPopup,1e4,{message:"Subscribe to this blog and get new updates first",numberOfButtons:1,backgroundColor:"light",callFromButton:!1})}},e=>{"use strict";e.O(0,[638,83],(()=>(391,e(e.s=391)))),e.O()}]);